"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9448],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=l(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(f,p(p({ref:t},c),{},{components:n})):r.createElement(f,p({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,p=new Array(i);p[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,p[1]=o;for(var l=2;l<i;l++)p[l]=n[l];return r.createElement.apply(null,p)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8630:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return u}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),p=["components"],o={id:"actions_GenerateSnippet_GenerateSnippet.GenerateSnippet",title:"Class: GenerateSnippet",sidebar_label:"GenerateSnippet",custom_edit_url:null},s=void 0,l={unversionedId:"contributing/api/classes/actions_GenerateSnippet_GenerateSnippet.GenerateSnippet",id:"contributing/api/classes/actions_GenerateSnippet_GenerateSnippet.GenerateSnippet",title:"Class: GenerateSnippet",description:"actions/GenerateSnippet/GenerateSnippet.GenerateSnippet",source:"@site/../docs/contributing/api/classes/actions_GenerateSnippet_GenerateSnippet.GenerateSnippet.md",sourceDirName:"contributing/api/classes",slug:"/contributing/api/classes/actions_GenerateSnippet_GenerateSnippet.GenerateSnippet",permalink:"/docs/contributing/api/classes/actions_GenerateSnippet_GenerateSnippet.GenerateSnippet",editUrl:null,tags:[],version:"current",frontMatter:{id:"actions_GenerateSnippet_GenerateSnippet.GenerateSnippet",title:"Class: GenerateSnippet",sidebar_label:"GenerateSnippet",custom_edit_url:null},sidebar:"contributing",previous:{title:"FollowLink",permalink:"/docs/contributing/api/classes/actions_FollowLink.FollowLink"},next:{title:"Substituter",permalink:"/docs/contributing/api/classes/actions_GenerateSnippet_Substituter.Substituter"}},c={},u=[{value:"Implements",id:"implements",level:2},{value:"Constructors",id:"constructors",level:2},{value:"constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Methods",id:"methods",level:2},{value:"run",id:"run",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns",level:4},{value:"Implementation of",id:"implementation-of",level:4},{value:"Defined in",id:"defined-in-1",level:4}],d={toc:u};function m(e){var t=e.components,n=(0,a.Z)(e,p);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/contributing/api/modules/actions_GenerateSnippet_GenerateSnippet"},"actions/GenerateSnippet/GenerateSnippet"),".GenerateSnippet"),(0,i.kt)("p",null,"This action can be used to automatically create a snippet from a target. Any\ncursor selections inside the target will become placeholders in the final\nsnippet.  This action creates a new file, and inserts a snippet that the user\ncan fill out to construct their desired snippet."),(0,i.kt)("p",null,"Note that there are two snippets involved in this implementation:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The snippet that the user is trying to create.  We refer to this snippet as\nthe user snippet."),(0,i.kt)("li",{parentName:"ul"},"The snippet that we insert that the user can use to build their snippet. We\nrefer to this as the meta snippet.")),(0,i.kt)("p",null,"We proceed as follows:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Ask user for snippet name if not provided as arg"),(0,i.kt)("li",{parentName:"ol"},"Find all cursor selections inside target - these will become the user\nsnippet variables"),(0,i.kt)("li",{parentName:"ol"},"Extract text of target"),(0,i.kt)("li",{parentName:"ol"},"Replace cursor selections in text with random ids that won't be affected\nby json serialization.  After serialization we'll replace these id's by\nsnippet placeholders."),(0,i.kt)("li",{parentName:"ol"},"Construct the user snippet body as a list of strings"),(0,i.kt)("li",{parentName:"ol"},"Construct a javascript object that will be json-ified to become the meta\nsnippet"),(0,i.kt)("li",{parentName:"ol"},"Serialize the javascript object to json"),(0,i.kt)("li",{parentName:"ol"},"Perform replacements on the random id's appearing in this json to get the\ntext we desire.  This modified json output is the meta snippet."),(0,i.kt)("li",{parentName:"ol"},"Open a new document in user custom snippets dir to hold the new snippet."),(0,i.kt)("li",{parentName:"ol"},"Insert the meta snippet so that the user can construct their snippet.")),(0,i.kt)("p",null,"Note that we avoid using JS interpolation strings here because the syntax is\nvery similar to snippet placeholders, so we would end up with lots of\nconfusing escaping."),(0,i.kt)("h2",{id:"implements"},"Implements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/contributing/api/interfaces/actions_actions_types.Action"},(0,i.kt)("inlineCode",{parentName:"a"},"Action")))),(0,i.kt)("h2",{id:"constructors"},"Constructors"),(0,i.kt)("h3",{id:"constructor"},"constructor"),(0,i.kt)("p",null,"\u2022 ",(0,i.kt)("strong",{parentName:"p"},"new GenerateSnippet"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"graph"),")"),(0,i.kt)("h4",{id:"parameters"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"graph")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"/docs/contributing/api/interfaces/typings_Types.Graph"},(0,i.kt)("inlineCode",{parentName:"a"},"Graph")))))),(0,i.kt)("h4",{id:"defined-in"},"Defined in"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/cursorless-dev/cursorless/blob/585f15c/src/actions/GenerateSnippet/GenerateSnippet.ts#L52"},"src/actions/GenerateSnippet/GenerateSnippet.ts:52")),(0,i.kt)("h2",{id:"methods"},"Methods"),(0,i.kt)("h3",{id:"run"},"run"),(0,i.kt)("p",null,"\u25b8 ",(0,i.kt)("strong",{parentName:"p"},"run"),"(",(0,i.kt)("inlineCode",{parentName:"p"},"__namedParameters"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"snippetName?"),"): ",(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("a",{parentName:"p",href:"/docs/contributing/api/interfaces/actions_actions_types.ActionReturnValue"},(0,i.kt)("inlineCode",{parentName:"a"},"ActionReturnValue")),">"),(0,i.kt)("h4",{id:"parameters-1"},"Parameters"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"__namedParameters")),(0,i.kt)("td",{parentName:"tr",align:"left"},"[",(0,i.kt)("a",{parentName:"td",href:"/docs/contributing/api/interfaces/typings_target_types.Target"},(0,i.kt)("inlineCode",{parentName:"a"},"Target")),"[]]")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"snippetName?")),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"string"))))),(0,i.kt)("h4",{id:"returns"},"Returns"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,i.kt)("a",{parentName:"p",href:"/docs/contributing/api/interfaces/actions_actions_types.ActionReturnValue"},(0,i.kt)("inlineCode",{parentName:"a"},"ActionReturnValue")),">"),(0,i.kt)("h4",{id:"implementation-of"},"Implementation of"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/contributing/api/interfaces/actions_actions_types.Action"},"Action"),".",(0,i.kt)("a",{parentName:"p",href:"/docs/contributing/api/interfaces/actions_actions_types.Action#run"},"run")),(0,i.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/cursorless-dev/cursorless/blob/585f15c/src/actions/GenerateSnippet/GenerateSnippet.ts#L56"},"src/actions/GenerateSnippet/GenerateSnippet.ts:56")))}m.isMDXComponent=!0}}]);